---
import {convertPathToHtml} from "../../../utils/index.js";
const {path, mainPage, page} = Astro.props;
const htmlPath = convertPathToHtml(path);
---

<!--begin::Sidebar-->
<aside class="app-sidebar bg-body-secondary shadow" data-bs-theme="dark" style="background-color: #192D63;">
  <!--begin::Sidebar Brand-->
  <div class="sidebar-brand">
    <a href="/admin/dashboard" class="brand-link">
      <img src={path + "/img/logo-unach-azul.png"} alt="Logo UNACH" class="brand-image opacity-75 shadow" />
      <span class="brand-text fw-bold" style="color: #D4B012;">ADMIN UNACH</span>
    </a>
  </div>
  <!--end::Sidebar Brand-->
  <div class="sidebar-wrapper">
    <nav class="mt-2">
      <ul class="nav sidebar-menu flex-column" role="menu">
        <li class="nav-item">
          <a href="/admin/dashboard" class:list={["nav-link", mainPage === "dashboard" && "active"]}>
            <i class="nav-icon bi bi-speedometer2" style="color: #D4B012;"></i>
            <p>Dashboard</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/admin/quejas" class:list={["nav-link", mainPage === "quejas" && "active"]}>
            <i class="nav-icon bi bi-exclamation-triangle-fill" style="color: #D4B012;"></i>
            <p>Gestión de Quejas</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/admin/sugerencias" class:list={["nav-link", mainPage === "sugerencias" && "active"]}>
            <i class="nav-icon bi bi-lightbulb-fill" style="color: #D4B012;"></i>
            <p>Gestión de Sugerencias</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/admin/reconocimientos" class:list={["nav-link", mainPage === "reconocimientos" && "active"]}>
            <i class="nav-icon bi bi-star-fill" style="color: #D4B012;"></i>
            <p>Gestión de Reconocimientos</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/admin/usuarios" class:list={["nav-link", mainPage === "usuarios" && "active"]}>
            <i class="nav-icon bi bi-people-fill" style="color: #D4B012;"></i>
            <p>Gestión de Usuarios</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/admin/reportes" class:list={["nav-link", mainPage === "reportes" && "active"]}>
            <i class="nav-icon bi bi-graph-up" style="color: #D4B012;"></i>
            <p>Reportes y Estadísticas</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/admin/configuracion" class:list={["nav-link", mainPage === "configuracion" && "active"]}>
            <i class="nav-icon bi bi-gear-fill" style="color: #D4B012;"></i>
            <p>Configuración</p>
          </a>
        </li>
        <hr style="border-color: #D4B012; opacity: 0.3;">
        <li class="nav-item">
          <a href="/" class="nav-link">
            <i class="nav-icon bi bi-house-door-fill" style="color: #D4B012;"></i>
            <p>Volver al Sitio</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="#" class="nav-link" id="logoutBtn">
            <i class="nav-icon bi bi-box-arrow-right" style="color: #D4B012;"></i>
            <p>Cerrar Sesión</p>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</aside>
<!--end::Sidebar-->

<script>
  document.getElementById('logoutBtn').addEventListener('click', function(e) {
    e.preventDefault();
    if (confirm('¿Estás seguro de que quieres cerrar sesión?')) {
      localStorage.removeItem('adminLoggedIn');
      localStorage.removeItem('adminUser');
      window.location.href = '/admin/login';
    }
  });
</script> 