<!doctype html>
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Dashboard Administrativo | FMH UNACH</title>
    <!--begin::Primary Meta Tags-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="title" content="Dashboard Administrativo | FMH UNACH" />
    <meta name="author" content="ColorlibHQ" />
    <meta
      name="description"
      content="AdminLTE is a Free Bootstrap 5 Admin Dashboard, 30 example pages using Vanilla JS."
    />
    <meta
      name="keywords"
      content="bootstrap 5, bootstrap, bootstrap 5 admin dashboard, bootstrap 5 dashboard, bootstrap 5 charts, bootstrap 5 calendar, bootstrap 5 datepicker, bootstrap 5 tables, bootstrap 5 datatable, vanilla js datatable, colorlibhq, colorlibhq dashboard, colorlibhq admin dashboard"
    />
    <!--end::Primary Meta Tags-->
    <!--begin::Fonts-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fontsource/source-sans-3@5.0.12/index.css"
      integrity="sha256-tXJfXfp6Ewt1ilPzLDtQnJV4hclT9XuaZUKyUvmyr+Q="
      crossorigin="anonymous"
    />
    <!--end::Fonts-->
    <!--begin::Third Party Plugin(OverlayScrollbars)-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.10.1/styles/overlayscrollbars.min.css"
      integrity="sha256-tZHrRjVqNSRyWg2wbppGnT833E/Ys0DHWGwT04GiqQg="
      crossorigin="anonymous"
    />
    <!--end::Third Party Plugin(OverlayScrollbars)-->
    <!--begin::Third Party Plugin(Bootstrap Icons)-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
      integrity="sha256-9kPW/n5nn53j4WMRYAxe9c1rCY96Oogo/MKSVdKzPmI="
      crossorigin="anonymous"
    />
    <!--end::Third Party Plugin(Bootstrap Icons)-->
    <!--begin::Required Plugin(AdminLTE)-->
    <link rel="stylesheet" href="../../../dist/css/adminlte.css" />
    <!--end::Required Plugin(AdminLTE)-->
    <meta charset="UTF-8" />
  </head>
  <body class="layout-fixed sidebar-expand-lg bg-body-tertiary">
    <div class="app-wrapper">
      <!--begin::Header-->
      <nav class="app-header navbar navbar-expand" style="background-color: #192d63">
        <div class="container-fluid">
          <div class="d-flex align-items-center w-100">
            <img
              src="../../../dist/img/logo-unach-azul.png"
              alt="Logo UNACH"
              style="max-width: 48px; margin-right: 16px"
            />
            <div class="flex-grow-1 text-center">
              <span class="fw-bold" style="color: #d4b012; font-size: 1.3rem"
                >Facultad de Medicina Humana "Dr. Manuel Velasco Suárez"</span
              ><br />
              <span class="fw-light text-white" style="font-size: 1rem"
                >Educación que transforma</span
              >
            </div>
            <div class="d-flex align-items-center">
              <a
                href="../../../dist/pages/admin/login.html"
                class="btn btn-outline-light btn-sm me-2"
                style="border-color: #d4b012; color: #d4b012"
              >
                <i class="bi bi-shield-lock me-1"></i>Administración
              </a>
              <img
                src="../../../dist/img/jubileo50.png"
                alt="Jubileo 50 años"
                style="max-width: 48px; margin-left: 16px"
              />
            </div>
          </div>
        </div>
      </nav>
      <!--end::Header-->
      <!--begin::Sidebar-->
      <aside
        class="app-sidebar bg-body-secondary shadow"
        data-bs-theme="dark"
        style="background-color: #192d63"
      >
        <!--begin::Sidebar Brand-->
        <div class="sidebar-brand">
          <a href="../admin/dashboard.html" class="brand-link">
            <img
              src="../../../dist/img/logo-unach-azul.png"
              alt="Logo UNACH"
              class="brand-image opacity-75 shadow"
            />
            <span class="brand-text fw-bold" style="color: #d4b012">ADMIN UNACH</span>
          </a>
        </div>
        <!--end::Sidebar Brand-->
        <div class="sidebar-wrapper">
          <nav class="mt-2">
            <ul class="nav sidebar-menu flex-column" role="menu">
              <li class="nav-item">
                <a href="../admin/dashboard.html" class="nav-link active">
                  <i class="nav-icon bi bi-speedometer2" style="color: #d4b012"></i>
                  <p>Dashboard</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="../admin/quejas.html" class="nav-link">
                  <i class="nav-icon bi bi-exclamation-triangle-fill" style="color: #d4b012"></i>
                  <p>Gestión de Quejas</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="../admin/sugerencias.html" class="nav-link">
                  <i class="nav-icon bi bi-lightbulb-fill" style="color: #d4b012"></i>
                  <p>Gestión de Sugerencias</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="../admin/reconocimientos.html" class="nav-link">
                  <i class="nav-icon bi bi-star-fill" style="color: #d4b012"></i>
                  <p>Gestión de Reconocimientos</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="../admin/usuarios.html" class="nav-link">
                  <i class="nav-icon bi bi-people-fill" style="color: #d4b012"></i>
                  <p>Gestión de Usuarios</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="../admin/reportes.html" class="nav-link">
                  <i class="nav-icon bi bi-graph-up" style="color: #d4b012"></i>
                  <p>Reportes y Estadísticas</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="../admin/configuracion.html" class="nav-link">
                  <i class="nav-icon bi bi-gear-fill" style="color: #d4b012"></i>
                  <p>Configuración</p>
                </a>
              </li>
              <hr style="border-color: #d4b012; opacity: 0.3" />
              <li class="nav-item">
                <a href="../index.html" class="nav-link">
                  <i class="nav-icon bi bi-house-door-fill" style="color: #d4b012"></i>
                  <p>Volver al Sitio</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link" id="logoutBtn">
                  <i class="nav-icon bi bi-box-arrow-right" style="color: #d4b012"></i>
                  <p>Cerrar Sesión</p>
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </aside>
      <!--end::Sidebar-->
      <script type="module">
        document.getElementById('logoutBtn').addEventListener('click', function (e) {
          e.preventDefault(),
            confirm('¿Estás seguro de que quieres cerrar sesión?') &&
              (localStorage.removeItem('adminLoggedIn'),
              localStorage.removeItem('adminUser'),
              (window.location.href = '../admin/login.html'));
        });
      </script>
      <main class="app-main">
        <div class="app-content-header">
          <div class="container-fluid">
            <div class="row align-items-center">
              <div class="col-md-2 text-center mb-2 mb-md-0">
                <img
                  src="/dist/img/logo-unach-azul.png"
                  alt="Logo UNACH"
                  style="max-width: 100px"
                />
              </div>
              <div class="col-md-8 text-center">
                <h2 class="mb-0">Panel de Administración</h2>
                <h5>Facultad de Medicina Humana "Dr. Manuel Velasco Suárez" Campus IV</h5>
              </div>
              <div class="col-md-2 text-center mb-2 mb-md-0">
                <img src="/dist/img/jubileo50.png" alt="Jubileo 50 años" style="max-width: 100px" />
              </div>
            </div>
          </div>
        </div>
        <div class="app-content">
          <div class="container-fluid">
            <!-- Tarjetas de Estadísticas -->
            <div class="row g-4 mb-4">
              <div class="col-xl-3 col-md-6">
                <div class="card bg-primary text-white">
                  <div class="card-body">
                    <div class="d-flex justify-content-between">
                      <div>
                        <h3 class="mb-0" id="totalQuejas">0</h3>
                        <p class="mb-0">Total Quejas</p>
                      </div>
                      <div class="align-self-center">
                        <i class="bi bi-exclamation-triangle-fill fs-1"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-3 col-md-6">
                <div class="card bg-success text-white">
                  <div class="card-body">
                    <div class="d-flex justify-content-between">
                      <div>
                        <h3 class="mb-0" id="totalSugerencias">0</h3>
                        <p class="mb-0">Total Sugerencias</p>
                      </div>
                      <div class="align-self-center"><i class="bi bi-lightbulb-fill fs-1"></i></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-3 col-md-6">
                <div class="card bg-warning text-white">
                  <div class="card-body">
                    <div class="d-flex justify-content-between">
                      <div>
                        <h3 class="mb-0" id="totalReconocimientos">0</h3>
                        <p class="mb-0">Total Reconocimientos</p>
                      </div>
                      <div class="align-self-center"><i class="bi bi-star-fill fs-1"></i></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-3 col-md-6">
                <div class="card bg-info text-white">
                  <div class="card-body">
                    <div class="d-flex justify-content-between">
                      <div>
                        <h3 class="mb-0" id="pendientes">0</h3>
                        <p class="mb-0">Pendientes</p>
                      </div>
                      <div class="align-self-center"><i class="bi bi-clock-fill fs-1"></i></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Gráficos y Tablas -->
            <div class="row g-4">
              <!-- Gráfico de Actividad -->
              <div class="col-lg-8">
                <div class="card">
                  <div class="card-header"><h5 class="card-title">Actividad Reciente</h5></div>
                  <div class="card-body">
                    <canvas id="activityChart" width="400" height="200"></canvas>
                  </div>
                </div>
              </div>
              <!-- Actividad Reciente -->
              <div class="col-lg-4">
                <div class="card">
                  <div class="card-header"><h5 class="card-title">Actividad Reciente</h5></div>
                  <div class="card-body">
                    <div class="timeline" id="recentActivity">
                      <!-- Se llenará dinámicamente -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Tabla de Últimas Entradas -->
            <div class="row mt-4">
              <div class="col-12">
                <div class="card">
                  <div class="card-header">
                    <h5 class="card-title">Últimas Entradas del Buzón</h5>
                  </div>
                  <div class="card-body">
                    <div class="table-responsive">
                      <table class="table table-striped" id="recentEntriesTable">
                        <thead>
                          <tr>
                            <th>Folio</th>
                            <th>Tipo</th>
                            <th>Remitente</th>
                            <th>Asunto</th>
                            <th>Fecha</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <!-- Se llenará dinámicamente -->
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
      <!--begin::Footer-->
      <footer class="app-footer" style="background-color: #192d63; color: #d4b012; padding: 1rem 0">
        <div class="container-fluid text-center">
          <strong>
            &copy; 2025 Facultad de Medicina Humana “Dr. Manuel Velasco Suárez” - UNACH.<br />
            Carretera Puerto Madero Km. 10.5, Finca Santa Teresa, Tapachula, Chiapas, México | C.P.
            30825 | Tel: (961) 6178000 ext. 5695
          </strong>
          <div style="font-size: 0.9rem; color: #fff">Todos los derechos reservados.</div>
        </div>
      </footer>
      <!--end::Footer-->
      <!--begin::Third Party Plugin(OverlayScrollbars)-->
      <script
        src="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.10.1/browser/overlayscrollbars.browser.es6.min.js"
        integrity="sha256-dghWARbRe2eLlIJ56wNB+b760ywulqK3DzZYEpsg2fQ="
        crossorigin="anonymous"
      ></script>
      <!--end::Third Party Plugin(OverlayScrollbars)--><!--begin::Required Plugin(popperjs for Bootstrap 5)-->
      <script
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"
      ></script>
      <!--end::Required Plugin(popperjs for Bootstrap 5)--><!--begin::Required Plugin(Bootstrap 5)-->
      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"
      ></script>
      <!--end::Required Plugin(Bootstrap 5)--><!--begin::Required Plugin(AdminLTE)-->
      <script src="../../../dist/js/adminlte.js"></script>
      <!--end::Required Plugin(AdminLTE)--><!--begin::OverlayScrollbars Configure-->
      <script>
        const SELECTOR_SIDEBAR_WRAPPER = '.sidebar-wrapper';
        const Default = {
          scrollbarTheme: 'os-theme-light',
          scrollbarAutoHide: 'leave',
          scrollbarClickScroll: true,
        };
        document.addEventListener('DOMContentLoaded', function () {
          const sidebarWrapper = document.querySelector(SELECTOR_SIDEBAR_WRAPPER);
          if (sidebarWrapper && typeof OverlayScrollbarsGlobal?.OverlayScrollbars !== 'undefined') {
            OverlayScrollbarsGlobal.OverlayScrollbars(sidebarWrapper, {
              scrollbars: {
                theme: Default.scrollbarTheme,
                autoHide: Default.scrollbarAutoHide,
                clickScroll: Default.scrollbarClickScroll,
              },
            });
          }
        });
      </script>
      <!--end::OverlayScrollbars Configure-->
    </div>
    <script type="module">
      localStorage.getItem('adminLoggedIn') || (window.location.href = 'login.html');
      const t = {
        quejas: 15,
        sugerencias: 8,
        reconocimientos: 12,
        pendientes: 5,
        activity: [
          { date: '2024-01-15', quejas: 3, sugerencias: 1, reconocimientos: 2 },
          { date: '2024-01-16', quejas: 2, sugerencias: 2, reconocimientos: 1 },
          { date: '2024-01-17', quejas: 4, sugerencias: 0, reconocimientos: 3 },
          { date: '2024-01-18', quejas: 1, sugerencias: 3, reconocimientos: 1 },
          { date: '2024-01-19', quejas: 2, sugerencias: 1, reconocimientos: 2 },
          { date: '2024-01-20', quejas: 3, sugerencias: 1, reconocimientos: 3 },
        ],
        recentEntries: [
          {
            folio: 'QJ-2024-001',
            tipo: 'Queja',
            remitente: 'Anónimo',
            asunto: 'Problema con el aire acondicionado',
            fecha: '2024-01-20',
            estado: 'Pendiente',
          },
          {
            folio: 'SG-2024-002',
            tipo: 'Sugerencia',
            remitente: 'María López',
            asunto: 'Mejora en la biblioteca',
            fecha: '2024-01-19',
            estado: 'En Revisión',
          },
          {
            folio: 'RC-2024-003',
            tipo: 'Reconocimiento',
            remitente: 'Carlos Ruiz',
            asunto: 'Excelente atención del Dr. García',
            fecha: '2024-01-18',
            estado: 'Aprobado',
          },
          {
            folio: 'QJ-2024-004',
            tipo: 'Queja',
            remitente: 'Anónimo',
            asunto: 'Falta de material en laboratorio',
            fecha: '2024-01-17',
            estado: 'Pendiente',
          },
          {
            folio: 'SG-2024-005',
            tipo: 'Sugerencia',
            remitente: 'Ana Martínez',
            asunto: 'Nuevos horarios de consulta',
            fecha: '2024-01-16',
            estado: 'En Revisión',
          },
        ],
      };
      document.getElementById('totalQuejas').textContent = t.quejas;
      document.getElementById('totalSugerencias').textContent = t.sugerencias;
      document.getElementById('totalReconocimientos').textContent = t.reconocimientos;
      document.getElementById('pendientes').textContent = t.pendientes;
      const a = document.querySelector('#recentEntriesTable tbody');
      t.recentEntries.forEach((e) => {
        const o = document.createElement('tr');
        (o.innerHTML = `
          <td>${e.folio}</td>
          <td><span class="badge ${i(e.tipo)}">${e.tipo}</span></td>
          <td>${e.remitente}</td>
          <td>${e.asunto}</td>
          <td>${e.fecha}</td>
          <td><span class="badge ${s(e.estado)}">${e.estado}</span></td>
          <td>
            <button class="btn btn-sm btn-primary" onclick="viewEntry('${e.folio}')">
              <i class="bi bi-eye"></i>
            </button>
            <button class="btn btn-sm btn-success" onclick="editEntry('${e.folio}')">
              <i class="bi bi-pencil"></i>
            </button>
          </td>
        `),
          a.appendChild(o);
      });
      function i(e) {
        switch (e) {
          case 'Queja':
            return 'bg-danger';
          case 'Sugerencia':
            return 'bg-success';
          case 'Reconocimiento':
            return 'bg-warning';
          default:
            return 'bg-secondary';
        }
      }
      function s(e) {
        switch (e) {
          case 'Pendiente':
            return 'bg-warning';
          case 'En Revisión':
            return 'bg-info';
          case 'Aprobado':
            return 'bg-success';
          case 'Rechazado':
            return 'bg-danger';
          default:
            return 'bg-secondary';
        }
      }
      const n = document.getElementById('activityChart').getContext('2d');
      n.fillStyle = '#f0f0f0';
      n.fillRect(0, 0, 400, 200);
      n.fillStyle = '#192D63';
      n.font = '16px Arial';
      n.fillText('Gráfico de Actividad (Simulado)', 50, 100);
    </script>
  </body>
</html>
